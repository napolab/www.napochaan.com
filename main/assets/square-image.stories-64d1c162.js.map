{"version":3,"file":"square-image.stories-64d1c162.js","sources":["../../src/components/square-image/index.tsx"],"sourcesContent":["/* eslint-disable @next/next/no-img-element */\n\nimport { memo, useMemo } from \"react\";\n\nimport Budoux from \"@components/budoux\";\n\nimport * as styles from \"./styles.css\";\n\nimport type { ComponentPropsWithoutRef, FC, ReactNode } from \"react\";\n\nexport type SquareImageProps = Omit<ComponentPropsWithoutRef<\"img\">, \"width\" | \"height\" | \"placeholder\"> & {\n  src: string;\n  caption: ReactNode;\n  strategy?: FC<Omit<SquareImageProps, \"strategy\"> & Pick<ComponentPropsWithoutRef<\"img\">, \"width\" | \"height\">>;\n};\n\nconst SquareImage: FC<SquareImageProps> = ({ loading = \"lazy\", strategy, ...props }) => {\n  const imageProps = useMemo(\n    () => ({\n      loading,\n      alt: props.alt ?? `ref: ${props.caption}`,\n      width: 160,\n      height: 160,\n      ...props,\n    }),\n    [loading, props],\n  );\n\n  return (\n    <figure className={styles.squareImageRoot}>\n      <div className={styles.imageRoot}>\n        {strategy ? strategy(imageProps) : <img {...imageProps} alt={imageProps.alt} className={styles.image} />}\n      </div>\n      <figcaption className={styles.captionRoot}>\n        {typeof props.caption === \"string\" ? <Budoux>{props.caption}</Budoux> : props.caption}\n      </figcaption>\n    </figure>\n  );\n};\n\nexport default memo(SquareImage);\n"],"names":["SquareImage","__name","loading","strategy","props","imageProps","useMemo","jsxs","styles.squareImageRoot","jsx","styles.imageRoot","styles.image","styles.captionRoot","Budoux","SquareImage$1","memo"],"mappings":"mVAgBA,MAAAA,EAAAC,EAAA,CAAA,CAAA,QAAAC,EAAA,OAAA,SAAAC,EAAA,GAAAC,KAAA,CACE,MAAAC,EAAAC,EAAA,QAAmB,KAAA,CACV,QAAAJ,EACL,IAAAE,EAAA,KAAA,QAAAA,EAAA,UACgC,MAAA,IACzB,OAAA,IACC,GAAAA,CACL,GACL,CAAAF,EAAAE,CAAA,CACe,EAGjB,OAAAG,EAAA,SAAA,CAAA,UAAAC,EAAA,SAAA,CAEIC,EAAA,MAAA,CAAA,UAAAC,EAAA,SAAAP,EAAAA,EAAAE,CAAA,EAAAI,EAAA,MAAA,CAAA,GAAAJ,EAAA,IAAAA,EAAA,IAAA,UAAAM,CAAA,CAAA,EAAA,EAEAF,EAAA,aAAA,CAAA,UAAAG,EAAA,SAAA,OAAAR,EAAA,SAAA,SAAAK,EAAAI,EAAA,CAAA,SAAAT,EAAA,OAAA,CAAA,EAAAA,EAAA,QAAA,CAGA,CAAA,CAAA,CAGN,EAtBA,eAwBAU,EAAAC,EAAA,KAAAf,CAAA"}